== Meeting information ==
 * #ubuntu-meeting Meeting, 09 Jan at 16:01 &mdash; 16:36 UTC
 * Full logs at [[http://ubottu.com/meetingology/logs/ubuntu-meeting/2014/ubuntu-meeting.2014-01-09-16.01.log.html]]



== Meeting summary ==

=== Lightning round ===
The discussion about "Lightning round" started at 16:01.


=== autopilot & python3 ===
The discussion about "autopilot & python3" started at 16:18.


=== AOB ===
The discussion about "AOB" started at 16:34.




== Vote results ==




== Action items ==

 * (none)



== People present (lines said) ==

 * slangasek (42)
 * barry (40)
 * xnox (24)
 * doko (20)
 * cjwatson (15)
 * stgraber (15)
 * bdmurray (14)
 * jodh (12)
 * ubottu (9)
 * stokachu (6)
 * meetingology (3)



== Full Log ==


 16:01 <slangasek> #startmeeting

 16:01 <meetingology> Meeting started Thu Jan  9 16:01:47 2014 UTC.  The chair is slangasek. Information about MeetBot at http://wiki.ubuntu.com/meetingology.

 16:01 <meetingology> 

 16:01 <meetingology> Available commands: #accept #accepted #action #agree #agreed #chair #commands #endmeeting #endvote #halp #help #idea #info #link #lurk #meetingname #meetingtopic #nick #progress #rejected #replay #restrictlogs #save #startmeeting #subtopic #topic #unchair #undo #unlurk #vote #voters #votesrequired

 16:01 <slangasek> [TOPIC] Lightning round

 16:02 <slangasek> $ echo $(shuf -e barry doko stgraber jodh bdmurray slangasek cjwatson xnox stokachu)

 16:02 <slangasek> cjwatson stokachu barry bdmurray stgraber doko slangasek jodh xnox

 16:02 <cjwatson> oh look

 16:02 <cjwatson> It's been a "catch up after new year" week

 16:02 <xnox> bah =) /me missed the chat

 16:02 <cjwatson> Miscellaneous:

 16:02 <xnox> *sorry*

 16:02 <cjwatson> - Bits and pieces of arm64/ppc64el porting (wcslib, mozjs17, libgksu, lcms, telepathy-logger, pvm, umockdev

 16:02 <cjwatson> - Various other build failure fixes (mutter, gnome-shell, obexd, renpy

 16:02 <cjwatson> - Caught up a bit on the trusty-proposed backlog with a bunch of rebuilds and such.

 16:02 <cjwatson> - base-passwd 3.5.30, with more secure defaults for shells of various global static users.  Hoovered up fallout in a dozen or so packages (one of which broke phone tests, oops).

 16:02 <cjwatson> 12.04.4 preparation:

 16:03 <cjwatson> - Reviewed a bunch of enablement uploads.

 16:03 <cjwatson> - Prepared debian-installer for lts-saucy enablement tree.

 16:03 <cjwatson> Started on libclick.

 16:03 <cjwatson> ..

 16:03 <cjwatson> Oh and sorry to anyone upset by the missing close parens there.  Here: ) )

 16:04 <slangasek> :)

 16:04 <slangasek> stokachu: around?  (it's a new year, so maybe? :)

 16:04 <barry> cjwatson: there's an emacs mode for that

 16:04 <stokachu> Nothing from me this week

 16:05 <slangasek> stokachu: ok, cool :)

 16:05 <stokachu> as far as bugs go, working on getting sosreport 3.1 relead

 16:05 <stokachu> done

 16:05 <barry> short week due to winter break.  was mostly off-line, so plenty of catching up this week.

 16:05 <barry> system-image: LP: #1259326 (triaged, discussed)

 16:05 <ubottu> Launchpad bug 1259326 in system-image (Ubuntu) "system-update panel not blocking screen lock/blank while downloading" [Medium,Confirmed] https://launchpad.net/bugs/1259326

 16:05 <barry> autopilot: LP: #1266574. branches ready for address-book-app, camera-app, cordova-ubuntu in progress.  discussions with #ubuntu-autopilot folks

 16:05 <ubottu> Launchpad bug 1266574 in autopilot (Ubuntu) "autopilot_tracepoint.c is not Python 3 compatible" [Undecided,New] https://launchpad.net/bugs/1266574

 16:05 <barry> ubuntu/debian: python-apt 0.9.1ubuntu1 (for dep8 fix).  window-mocker python3/pybuild support for cgoldberg.

 16:05 <barry> done

 16:05 <bdmurray> queried errors database to see if bug 1024590 is fixed in saucy

 16:05 <bdmurray> tested unattended-upgrade bug 1265729

 16:05 <bdmurray> uploaded a fix for bug 1237119

 16:05 <bdmurray> bug triage of bug 1264887

 16:05 <ubottu> bug 1024590 in aptdaemon (Ubuntu) "update-manager crashed with AttributeError in _on_download_changed(): 'NoneType' object has no attribute 'get_value'" [Medium,Fix committed] https://launchpad.net/bugs/1024590

 16:05 <ubottu> bug 1265729 in unattended-upgrades (Ubuntu) "unattended-upgrade might enter an infinite loop if an upgradable package is on hold" [Undecided,Incomplete] https://launchpad.net/bugs/1265729

 16:05 <ubottu> bug 1237119 in gnome-control-center (Ubuntu) "ERROR: hook /usr/share/apport/package-hooks/source_gnome-control-center.py crashed: TypeError: add_info() takes 1 positional argument but 2 were given" [Medium,Fix released] https://launchpad.net/bugs/1237119

 16:05 <ubottu> bug 1264887 in ubuntu-release-upgrader (Ubuntu Trusty) "After upgrade 12.04 -> 14.04 there was no display manager (kdm or lightdm)" [High,Confirmed] https://launchpad.net/bugs/1264887

 16:06 <bdmurray> uploaded whoopsie-preferences with a change for location of apport/autoreport (bug 1239811)

 16:06 <ubottu> bug 1239811 in whoopsie-preferences (Ubuntu Trusty) "whoopsie-preferences crashed with SIGSEGV in _IO_new_fclose()" [High,Fix released] https://launchpad.net/bugs/1239811

 16:06 <bdmurray> uploaded update-notifier, apport, lxc-android-config with a change for location of apport/autoreport

 16:06 <bdmurray> updated bug bot to handle not erased media ubiquity install failures

 16:06 <bdmurray> updated bug bot to recommend people try 12.04.3 not 12.04.[12]

 16:06 <bdmurray> modified phased-updater not to keep setting stopped updates to 0%

 16:06 <bdmurray> subscribed teams to packages

 16:06 <bdmurray> trying to setup an instance of errors in canonistack to work on retracer issue

 16:06 <bdmurray> worked with canonical support to get my core limit increased for deploying the error tracker in canonistack

 16:06 <cjwatson> barry: there's an emacs mode for everything

 16:06 <bdmurray> testing autoreporting of crashes and whoopsie on trusty (bug 1245524)

 16:06 <ubottu> bug 1245524 in whoopsie (Ubuntu) "whoopsie fails to notice/process .upload files on trusty" [Critical,Confirmed] https://launchpad.net/bugs/1245524

 16:06 <bdmurray> ‚êó done

 16:06 <stokachu> oh can someone remove sponsors team from bug 1121874?

 16:06 <ubottu> bug 1121874 in mysql-5.5 (Ubuntu Saucy) "MySQL launch fails silently if < 4MB of disk space is available" [Medium,In progress] https://launchpad.net/bugs/1121874

 16:06 <stokachu> now that arges can sponsor packages he just can't remove the team from subscribers list

 16:06 <barry> cjwatson: true! there's even one for vi users :)

 16:07 <stgraber> - cgmanager:

 16:07 <stgraber> - Followed the progress made by jodh and hallyn, discussed and reviewed initial packaging

 16:07 <stgraber> - LXC:

 16:07 <stgraber> - Preparing for rc1 next week (ton of code reviews and a few fixes)

 16:07 <stgraber> - Wrote a bit about LXC: https://www.stgraber.org/2013/12/20/lxc-1-0-blog-post-series/

 16:07 <stgraber> - Tested and prepared systemd upload to turn on all cgroup controllers in logind

 16:07 <stgraber> - Follow up on PAM change to get unprivileged containers working properly

 16:07 <stgraber> - Branch to make apport work with LXC (some extra changes needed)

 16:07 <cjwatson> stokachu: I guess somebody did it, doesn't seem to be subscribed now

 16:07 <stgraber> - Ubuntu touch

 16:07 <slangasek> barry: what kinds of discussions have you been having on #ubuntu-autopilot?  are they excited about the python3 move? :)

 16:07 <stgraber> - Images now have discard enabled by default

 16:07 <stgraber> - Fixed a few bugs in my experimental port/private-server system-image branch, working on tests now. Test server at https://phablet.stgraber.org

 16:07 <stgraber> - Other

 16:07 <stgraber> - SRU/New reviews

 16:07 <stgraber> - A few merges

 16:07 <stgraber> (DONE)

 16:07 <stokachu> cjwatson: ah ok must've just happened lol, thanks for checking

 16:07 <barry> slangasek: i'm happy to discuss a few things after the lightening round

 16:07 <slangasek> barry: ack

 16:09 <doko> - two full days of merges, not yet finished with main, and didn't look yet at universe. merges in general seem to be behind this cycle

 16:09 <doko> - start packaging GCC 4.9, including four new runtime libs

 16:09 <doko> - gcc-4.8/arm64: trying to reproduce a testcase for 1263576

 16:09 <doko> - finishing tcl/tk updates

 16:09 <doko> - made python3.4 a supported python3 version. fixed most packages

 16:09 <doko> build-depending on python3-all-dev.

 16:09 <doko> - started a first test rebuild, currently for main on all archs.

 16:09 <doko> universe will follow later this week.

 16:09 <doko> - looked at ruby-ffi on arm64 and ppc64el. not much progress

 16:09 <doko> - finished the glew transition

 16:09 <doko> - uploaded ppc64le cross toolchain to trusty

 16:09 <doko> - update of python interpreters

 16:09 <doko> - MIR processing, component mismatches, ...

 16:09 <doko> (done)

 16:11 <slangasek> doko: gcc 4.9> and that's not landing in the archive this cycle, right?

 16:12 <doko> slangasek, depends ... =)

 16:12 <slangasek> doko: on what?

 16:12 <slangasek> * post-holiday email wrangling

 16:12 <slangasek> * learning the ropes on the TB (congrats to everyone else who was elected, thanks to everyone else who stood)

 16:12 <slangasek> * sprint prep

 16:12 <slangasek> * continuing to work on filling our open position on the team

 16:12 <slangasek> * Debian upstart/systemd discussions

 16:12 <slangasek> * monitoring upstream kdbus discussions

 16:12 <slangasek> * worked with stgraber to land pam_loginuid userns support upstream

 16:12 <slangasek> * ongoing ppc64el discussions

 16:12 <slangasek> (done)

 16:12 <jodh> * core-1311-upstart-roadmap:

 16:12 <jodh> - cgroup support:

 16:12 <jodh> - Upstart can now run a job in a cgroup using the cgmanager.

 16:12 <jodh> Continuing to work with stgraber + hallyn on cgmanager design and

 16:12 <jodh> implementation.

 16:12 <jodh> - async spawning: Have a prototype branch that will boot a system and

 16:12 <jodh> a Session Init, handling child comms asynchronously. Needs

 16:12 <jodh> polishing and also necessitates reworking some of the existing

 16:12 <jodh> tests and writing additional state-machine checking tests.

 16:12 <doko> if gccgo-4.9 looks better than -4.8

 16:12 <jodh> Currently extending the serialisation format to handle resuming the

 16:13 <jodh> async operations post re-exec.

 16:13 <jodh> ‚ó£

 16:13 <doko> no, not as the default

 16:13 <xnox> * Emulator / Autopilot:

 16:13 <xnox> - working on automating autopilot execution in the emulator

 16:13 <xnox> - finding / identifying / filing bugs about issues with test

 16:13 <xnox> failures, which are regressions over mako.

 16:13 <xnox> - solving scalability of testing with juju charm development to

 16:13 <xnox> reliably run all tests quickly.

 16:13 <xnox> - see ubuntu-phone mailing list post + bugs tagged "jemjem"

 16:14 <xnox> * installer:

 16:14 <xnox> - worked on improving support for Qemu/OVMF targets

 16:14 <xnox> * over christmas time:

 16:14 <xnox> - helped with icu and glew transitions, ppc64el fixes.

 16:14 <slangasek> doko: would we be able to use gccgo-4.9 with libgcc from 4.8, or does this require updating libgcc?  I thought you were opposed to pulling in 4.9 for the runtime libs

 16:14 <xnox> * I'm away on holidays from 11th to 19th of January

 16:14 <xnox> ..

 16:14 <barry> xnox: we should chat about autopilot+emulator some time :)

 16:14 <doko> slangasek, I'm opposed to overwrite libstdc++6

 16:15 <doko> and as I said, I just started the packaging this week ...

 16:15 <xnox> barry: well today is best as i'll be available most of the evening. tomorrow, i'll be finishing sharp at EOD.

 16:15 <slangasek> doko: ack

 16:16 <barry> xnox: ack

 16:16 <slangasek> any more questions/comments on status?

 16:17 <slangasek> barry: should we talk about autopilot?

 16:17 <barry> slangasek: sure

 16:18 <slangasek> [TOPIC] autopilot & python3

 16:18 <barry> we have buy-in that autopilot tests in packages should be py3, which is great because we'll be able to ditch py2 on touch

 16:18 <barry> some disagreement on whether there should be a "flag day" or switch things over package by package

 16:19 <barry> otoh, if we go by xnox's list in emulator branch, there's only 11 packages that need porting, so i think it's silly not to just flag day it

 16:19 <slangasek> yes; but all the plans for switching things over package-by-package had huge overhead on the packaging side

 16:19 * slangasek nods

 16:19 <barry> slangasek: yeah, i thought you'd back me up on that :)

 16:20 <barry> i've already ported address-book-app and camera-app and am working on cordova-ubuntu.  really, porting the actual packages is not difficult

 16:20 <barry> one thing i'm unsure of atm is whether the click package tests in xnox's branch use autopilot.  i think not, but not sure atm

 16:20 <xnox> barry: oh, i see. Yeah, I was confused why all tests seem to run in python2 mode, when they are mostly 1.4 autopilot based and should be python3 capable.

 16:21 <xnox> barry: all of them use autopilot, after a huge amount of wrapper scripts =)

 16:21 <barry> right, we have /usr/bin/autopilot (py2) and autopilot-py3 as test runners

 16:21 <barry> xnox: okay, so the click package tests will need porting too then.  that adds to the mix

 16:22 <barry> other open questions: whether to have one big tracking bug with bugtasks, or a bug per package

 16:22 <xnox> barry: i can wedge /usr/bin/autopilot to be /usr/bin/autopilot-py3 & give you logs of how much things fail, would you be interested in that?

 16:22 <barry> and the really difficult one: testing :(

 16:22 <slangasek> testing> that's why we have charms :)

 16:23 <slangasek> xnox: what kind of times are you getting out of running all the testsuites, now?

 16:23 <barry> xnox: what i'd like to talk about later is fiddling with your emulator scripts to switch between py2 and py3, and using local packages.  but then there's the cross-building issue

 16:23 <xnox> barry: one big bug with bugtasks, doesn't scale that well. Having one bug per project/package with a common tag works better. As one can request launchpad to list them all "e.g. tag jemjem from all projects"

 16:23 <barry> xnox: that's probably how we'll go

 16:23 <xnox> slangasek: some instances get stuck, so i need to add watchdog. Last run I did was about 3h across all non-failing projects.

 16:23 <barry> since i suspect package maintainers will prefer that

 16:24 <xnox> barry: is python3 autopilot seeded on the images yet?

 16:24 <slangasek> xnox: not bad, not bad...  seems like a few more iterations, and we should be able to get solid test results for the autopilot transition

 16:24 <barry> right now the easiest thing seems to be: install the amd64 packages and run the tests locally.  a few py2 tests will fail (e.g. i have no camera) but oh well.  then, build and install the amd64 py3 ported package locally and run with autopilot-py3.  icky, but has the advantage of actually working :)

 16:25 <barry> xnox: python3-autopilot gives you /usr/bin/autopilot-py3

 16:25 <barry> autopiloters seem to do all testing on devices, including package builds.  but i think that's almost unnecessarily slow for porting purposes

 16:26 <doko> barry, do you test with 3.4 too? ;-p

 16:26 <xnox> barry: and autopilot-touch is not a python based? it has python-autopilot & python-evdev depends.

 16:26 <barry> doko: ha ha ha!

 16:27 <slangasek> barry: +1 for anything that speeds up the development cycle by leveraging native hardware :)

 16:27 <barry> xnox: i *think* those are just ap's own tests, which can be run against py2 and py3 using tox in their trunk branch

 16:27 <xnox> cool.

 16:27 <barry> slangasek: yeah, i think that'll at least get us 99% of the way there

 16:27 <barry> at least to the point of mp's

 16:28 <barry> so, aside from porting, we'll have to get ci to switch over to autopilot-py3.  that's a whole 'nuther discussion

 16:28 <barry> (some of which has been discussed before)

 16:28 <barry> anyway, i think that's about it.  xnox's emulator is awesome btw, and if we can leverage it for testing as described above, i think that would give us extra confidence

 16:28 <barry> eot

 16:29 <slangasek> yeah, there's no way we can propose having a py3 flag day for autopilot /without/ testing in emulation... we need to get the py3 autopilot test failures down to where they match the existing py2 tests, and that requires testing on arm

 16:31 <slangasek> so next steps: 1) iterate through the test suites on amd64, fixing any obvious py2/3 issues; 2) generate reports for py2 vs. py3 autopilot testing in the cloud; 3) lather, rinse, repeat; 4) flag day when we hit parity?

 16:31 <barry> agreed.  i think the phablet-tools test runner can be pointed to local packages and/or ppas, so one of the steps in this process should be uploading to a ppa all the ported tests, twiddling the runner to use py3, and running them on actual devices and/or the emulator

 16:31 <barry> slangasek: yes

 16:32 <slangasek> ppas> only relevant for the .debs, I guess, not the click packages

 16:32 <barry> right

 16:32 <slangasek> barry: ok - sounds like a plan.  What do you think the timeline looks like?  I guess if you haven't looked at the test suites yet for any of the click packages, it's hard to project?

 16:33 <barry> slangasek: right.  but i'm mildly confident i can finish the non-click porting this week or early next week

 16:33 <slangasek> ok

 16:34 <slangasek> barry: thanks!

 16:34 <barry> sure thing!

 16:34 <slangasek> anything else for today?

 16:34 <slangasek> [TOPIC] AOB

 16:36 <slangasek> beuller

 16:36 <slangasek> nothing? :)

 16:36 <slangasek> #endmeeting



Generated by MeetBot 0.1.5 (http://wiki.ubuntu.com/meetingology)